<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS180 ‚Ä¢ Project 2 ‚Äî Chris Dodla</title>
  <meta name="description" content="Project 2: Fun with Filters and Frequencies" />

  <!-- Apply saved theme before CSS to avoid mismatch/flash -->
  <script>
    (function () {
      const t = localStorage.getItem("theme");
      if (t === "light" || t === "dark") {
        document.documentElement.setAttribute("data-theme", t);
      }
    })();
  </script>

  <style>
    /* ---------- Theme ---------- */
    :root {
      --bg: #0b0c10;
      --bg-soft: #111218;
      --card: #151823;
      --text: #e8eaf0;
      --muted: #a7b0c0;
      --accent: #7c9cff;
      --accent-2: #4de1c1;
      --ring: rgba(124,156,255,.5);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --maxw: 1100px;
    }

    /* System preference */
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f7f8fb;
        --bg-soft: #fff;
        --card: #ffffff;
        --text: #0f172a;
        --muted: #475569;
        --accent: #335dff;
        --accent-2: #0fb99d;
        --ring: rgba(51,93,255,.35);
        --shadow: 0 10px 24px rgba(2,6,23,.08);
      }
    }

    /* Manual overrides (must be AFTER the media block) */
    :root[data-theme="dark"] {
      --bg: #0b0c10;
      --bg-soft: #111218;
      --card: #151823;
      --text: #e8eaf0;
      --muted: #a7b0c0;
      --accent: #7c9cff;
      --accent-2: #4de1c1;
      --ring: rgba(124,156,255,.5);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    :root[data-theme="light"] {
      --bg: #f7f8fb;
      --bg-soft: #fff;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --accent: #335dff;
      --accent-2: #0fb99d;
      --ring: rgba(51,93,255,.35);
      --shadow: 0 10px 24px rgba(2,6,23,.08);
    }
    [data-theme="light"] { color-scheme: light; }
    [data-theme="dark"]  { color-scheme: dark; }

    /* ---------- Base ---------- */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 80% -10%, rgba(124,156,255,.25), transparent 60%),
                  linear-gradient(180deg, var(--bg-soft), var(--bg));
      color: var(--text);
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }

    .container { max-width: var(--maxw); margin: 0 auto; padding: 24px; }

    /* ---------- Header ---------- */
    header {
      position: sticky; top: 0; z-index: 10;
      backdrop-filter: blur(10px);
      background: color-mix(in oklab, var(--bg) 75%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
    }
    .nav { display: flex; align-items: center; justify-content: space-between; gap: 16px; padding: 12px 0; }
    .brand { display: flex; align-items: center; gap: 12px; font-weight: 700; letter-spacing: .2px; }
    .logo {
      width: 28px; height: 28px; border-radius: 8px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 6px 16px color-mix(in oklab, var(--accent) 35%, transparent);
    }
    .nav-links { display: flex; gap: 10px; align-items: center; }
    .btn {
      padding: 10px 14px; border-radius: 12px; font-weight: 600;
      background: color-mix(in oklab, var(--text) 8%, transparent);
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
    }
    .btn:hover { border-color: color-mix(in oklab, var(--accent) 45%, transparent); }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: white; border: 0; box-shadow: 0 10px 20px color-mix(in oklab, var(--accent) 35%, transparent);
    }
    .btn:focus-visible { outline: 3px solid var(--ring); outline-offset: 2px; }

    /* ---------- Hero ---------- */
    .hero { display: grid; gap: 18px; padding: 36px 0 18px; }
    .eyebrow {
      display: inline-flex; gap: 8px; align-items: center;
      padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 700;
      letter-spacing: .3px; text-transform: uppercase;
      background: color-mix(in oklab, var(--text) 8%, transparent);
      color: var(--muted);
      width: fit-content;
    }
    h1 { margin: 0; font-size: clamp(28px, 4vw, 40px); line-height: 1.15; }
    .sub { color: var(--muted); max-width: 70ch; font-size: 16px; line-height: 1.6; }

    /* ---------- Grid & Cards ---------- */
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 18px; }
    .card {
      grid-column: span 12;
      display: grid; grid-template-rows: 160px auto; border-radius: var(--radius);
      background: var(--card); overflow: hidden; box-shadow: var(--shadow);
      border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
      transition: transform .18s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .card:hover {
      transform: translateY(-3px);
      border-color: color-mix(in oklab, var(--accent) 40%, transparent);
      box-shadow: 0 16px 36px color-mix(in oklab, black 25%, transparent);
    }
    .thumb {
      position: relative;
      background: linear-gradient(135deg,
        color-mix(in oklab, var(--accent) 30%, transparent),
        color-mix(in oklab, var(--accent-2) 22%, transparent));
      display: grid; place-items: center;
    }
    .thumb img { width: 100%; height: 100%; object-fit: cover; }
    .badge {
      position: absolute; top: 10px; left: 10px;
      font-size: 12px; font-weight: 700; padding: 6px 8px; border-radius: 999px;
      background: color-mix(in oklab, var(--bg) 40%, transparent); color: var(--text);
      border: 1px solid color-mix(in oklab, var(--text) 18%, transparent);
      backdrop-filter: blur(6px);
    }
    .content { padding: 14px 14px 16px; display: grid; gap: 8px; }
    .title { font-weight: 750; font-size: 18px; }
    .desc { color: var(--muted); font-size: 14px; line-height: 1.5; }
    .meta { display: flex; gap: 8px; flex-wrap: wrap; }
    .tag { font-size: 12px; color: var(--muted); border: 1px dashed color-mix(in oklab, var(--text) 18%, transparent); padding: 4px 8px; border-radius: 999px; }

    @media (min-width: 640px) { .card { grid-column: span 6; } }
    @media (min-width: 1024px) { .card { grid-column: span 4; } }

    /* ---------- Footer ---------- */
    footer { margin-top: 36px; padding: 24px 0; color: var(--muted);
      border-top: 1px solid color-mix(in oklab, var(--text) 12%, transparent); font-size: 14px; }
    .footer-row { display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap; }
  </style>
</head>

<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <span class="logo" aria-hidden="true"></span>
        <span>CS180 Portfolio</span>
      </div>
      <nav class="nav-links">
        <a class="btn" href="../">‚Üê Back</a>
        <button id="themeToggle" class="btn" type="button" aria-label="Toggle theme">üåì</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero" aria-labelledby="title">
      <span class="eyebrow">Project 2 ‚Ä¢ CS180</span>
      <h1 id="title">Fun with Filters and Frequencies</h1>
    </section>

    <!-- Overview / Deliverables -->
    <section style="margin-top:10px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Overview</span></div>
          <div class="content">
            <div class="title">What‚Äôs on this page</div>
            <ul class="desc">
              <li>Part 1.1 - Convolutions from Scratch! </li>
              <li>Part 1.2 ‚Äî Finite Difference Operator </li>
              <li>Part 1.3 ‚Äî Derivative of Gaussian (DoG) Filter </li>
              <li>Part 2.1 ‚Äî Image "Sharpening" </li>
              <li>Part 2.2 ‚Äî Hybrid Images </li>
              <li>Part 2.3 ‚Äî Gaussian and Laplacian Stacks </li>
              <li>Part 2.4 ‚Äî Multiresolution Blending  </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Intro -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Introduction</span></div>
          <div class="content">
            <div class="title">Intro</div>
            <p class="desc">
              The goal of this project was to implement and apply fundamental image processing techniques to explore how filters, edges, and frequency components shape visual perception. 
              In Part 1, I build convolution functions from scratch, compare them with standard libraries, and analyze performance. 
              Then, I compute image derivatives, gradients, and edge maps, while also constructing and applying Gaussian and Difference of Gaussian filters to study smoothing and edge detection. 
              In Part 2, I extend these methods to practical applications: sharpening images with unsharp masking, creating hybrid images by combining low and high frequency components, 
              and performing multiresolution blending using Gaussian and Laplacian stacks to seamlessly merge images. 
            </p>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Part 1.1 -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Part 1.1</span></div>
          <div class="content">
            <div class="title">Convolutions from Scratch</div>
            <p class="desc">
              In this part, I implemented 2D convolutions using just numpy with two different methods: 1) Four nested loops and 2) Two nested loops.
              I then compared my implementation from scratch with scipy's convolve2d function and analyzed the runtime and results.
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./Proj2Selfie.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Image </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./4loopsBox.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> 4 Loops (2.5 minutes) </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./2loopsBox.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> 2 Loops (23 seconds) </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./scipyBox.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Scipy convolve2d (2 seconds) </figcaption>
              </figure>
            </div>

            <p class="desc">
              As expected, the four-loop method to multiply and add up each kernel value with corresponding pixels is very inefficient. In the two-loop method, by taking slices of the padded image of the same size as the kernel
              and computing the convolution with np.sum(curr * kernel), I'm utilizing Numpy's vectorized multiplication and sum, which speeds up the process by a factor of 6-7x. 
              However, using the scipy library and its built-in convolve2d function was even more efficient. This is due to it being implemented in C and runtime-optimized.     

              For all the convolutions, I used zero-padding, so for a kernel with size (kh, kw), I padded by (kh-1) // 2 rows and (kw-1) // 2 columns on both sides to ensure that the output image is 
              the same size as the input. Without this padding, the convolution would shrink the image since the kernel wouldn't be able to extend beyond the border pixels. For the scipy function call,
              I used "mode = same" to automatically pad the image with zeros to ensure the output has the same dimensions as the input. From the results, we can see that all the methods give us the same output, 
              which is a slightly blurrier version of the original image (grayscaled). 

              Below you can find my implementations for convolution:              
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./4LoopImplementation.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Four Loop Implementation </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./2LoopImplementation.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Two Loop Implementation </figcaption>
              </figure>
            </div>

            <p class="desc">
              Next, I applied the humble finite difference dx and dy filters to the grayscaled original image using my 2 loop convolve function. The dx filter detects horizontal edges, while the dy filter detects vertical edges.
              I made sure to normalize after my convolution to ensure clear results.
            </p>
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./xFiniteDiff.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Dx Filter </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./yFiniteDiff.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Dy Filter </figcaption>
              </figure>
            </div>
            

          </div>
        </div>
      </div>
    </section>


    <!-- Part 1.2 -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Part 1.2</span></div>
          <div class="content">
            <div class="title">Finite Difference Operator</div>
            <p class="desc">
              In this part, I tried to compute the gradient magnitude and edge map of the cameraman image using the dx and dy filters. 
              The gradient magnitude is computed as the square root of the dx convolution squared + the dy convolution squared. 
              I computed the edge map by setting a threshold for the gradient magnitude and outputting a binary image. 
              I decided to use an adaptive threshold for flexibility and I settled on 0.95 (picking the top 5% of gradients). 
              A higher threshold would result in fewer real edges being detected and a lower threshold would cause more noise to be included.
              I tested a couple different thresholds from 80th percentile to 99th percentile and decided that I preserved the relevant edges while eliminating most noise at 95th.

            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./cameraman_gx.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Dx Filter </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./cameraman_gy.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Dy Filter </figcaption>
              </figure>
            </div>
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./cameraman_gradmag.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> Grad Mag </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./cameraman_edges.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Edge Map </figcaption>
              </figure>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Part 1.3 -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Part 1.3</span></div>
          <div class="content">
            <div class="title">Derivative of Gaussian (DoG) Filter</div>
            <p class="desc">
              I then decided to improve my edge detection by first utilizing a Gaussian filter to smooth the images before I applied the Dx and Dy filters. I reasoned that this would 
              help me reduce noise in the image early, so that the dx and dy filters can detect true edges more clearly. I tested this approach with two different methods:

              <br>
              
              1) First, I tried performing the steps sequentially. I blurred the image using a Gaussian filter, then I applied the dx and dy filters to the modified image to compute grad mag and the edge map. 
              The results are below and we can see that with the same threshold, we have improvement in the definition of the edges and a reduction in discontinuities compared to the result in 1.2. 
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./cameraman_gxGaussian.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Dx Filter </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./cameraman_gyGaussian.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Dy Filter </figcaption>
              </figure>
            </div>
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./cameraman_gradmagGaussian.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> Grad Mag </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./cameraman_edgesGaussian.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Edge Map </figcaption>
              </figure>
            </div>

            <p class="desc">
              2) With the second method, I attempted to get the same result with a singular convolution instead of two. I convolved the Gaussian filter with the Dx and Dy filters to create a derivative of Gaussian
              (DoG) filter. I then applied the DoG filter to the original image and got the resulting grad mag and edge map. We can see that, using the same threshold, these images look identical to those generated
              with the first method.
            </p>

            
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./cameraman_gx_DoG.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Dx Filter </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./cameraman_gy_DoG.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Dy Filter </figcaption>
              </figure>
            </div>
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./cameraman_gradmag_DoG.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> Grad Mag </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./cameraman_edges_DoG.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Edge Map </figcaption>
              </figure>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Part 2.1 -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Part 2.1</span></div>
          <div class="content">
            <div class="title">Image "Sharpening"</div>
            <p class="desc">
              In this part, I implemented the unsharp mask filter to sharpen images. I then used this filter to sharpen the provided Taj Mahal image along with another of my selection.
              My implementation of the unsharp mask filter used the following formula from lecture:
            </p>

            <figure style="margin:0">
                <img src="./unsharp_formula.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
            </figure>

            <p class="desc">
              The goal for image sharpening is to enhance the high frequency components of our image. My steps for accomplishing this were to 1) Use a Gaussian filter (convolve with image) to get a blurred version of the image and 2) Subtract the blurred image from the original image. 
              The extent to which we want to sharpen our image is controlled by the alpha parameter in our formula. We see that alpha controls how much of the high frequency component we are adding back to the original image, so a higher alpha corresponds to a sharper image.
              <br>
              The primary design choices I made for this task were deciding the size of the guassian kernel I wanted to use and the alpha parameter. Originally, I elected to use a 9x9 gaussian kernel.
              However, this was causing a halo effect and shadows/rims along some of the edges. This led me to re-evaluate and I adjusted to a 3x3 kernel which produced much better cleaner results.
              The alpha parameter was chosen through experimentation and looping through a range of plausible values.
              <br>
              Below, we have the image, the blurred image, the high frequency components, and the final sharpened image:
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./taj.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Taj </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./taj_blurred.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Blurred Taj </figcaption>
              </figure>
            </div>            
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./taj_highfreq.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> High Frequency Taj </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./taj_higher.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Sharpened Taj </figcaption>
              </figure>
            </div>

            <p class="desc">
              I then repeated this process with an image of my own chipotle bowl! Originally, the blur wasn't strong enough so I used a larger kernel for a better blur.
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./ChipotleBowl.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Chipotle </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./ChipotleBowl_blurred.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Blurred Chipotle </figcaption>
              </figure>
            </div>            
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./ChipotleBowl_highfreq.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> High Frequency Chipotle </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./ChipotleBowl_higher.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Sharpened Chipotle </figcaption>
              </figure>
            </div>

            <p class="desc">
              Next, I decided to experiment with blurring an image and then sharpening it to recover the original image. 
              We find that sharpening a blurred image doesn't exactly recover the original image. When blurring, we lose some high-frequency detail, which we don't recover.
              This is because sharpening an image can only amplify the existing high-frequency components (if those components are entirely missing then we can't amplify them).
              This causes us to boost mid frequencies and the blur's transitions, which results in more outlining and less detail and genuine sharpness than the left image. 
              However, we notice that the sharpened image is still a substantial improvement from the blurry image.
              <br>
              The results are below:
            </p>

             <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./taj.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Taj </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./taj_resharpened.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Resharpened Taj </figcaption>
              </figure>
            </div>        

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./ChipotleBowl.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Chipotle </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./ChipotleBowl_resharpened.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Resharpened Chipotle </figcaption>
              </figure>
            </div>       

            <p class="desc">
              Finally, I decided to vary alpha values and visualize how my sharpening results differed.
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./Taj_alpha0.5.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Taj Alpha 0.5 </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./Taj_alpha0.7.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Taj Alpha 0.7 </figcaption>
              </figure>
            </div>     

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./Taj_alpha1.0.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>3.</strong> Taj Alpha 1.0 </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./Taj_alpha1.2.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>4.</strong> Taj Alpha 1.2 </figcaption>
              </figure>
            </div>     

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./Taj_alpha1.5.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>5.</strong> Taj Alpha 1.5 </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./Taj_alpha2.0.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>6.</strong> Taj Alpha 2.0 </figcaption>
              </figure>
            </div>     

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./Taj_alpha3.0.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>7.</strong> Taj Alpha 3.0 </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./Taj_alpha10.0.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>8.</strong> Taj Alpha 10.0 </figcaption>
              </figure>
            </div>     

            <p class="desc">
              We see that as the alpha increases, the image becomes sharper. However, at very large alpha values, our image becomes a bit distorted and subject to halo effects.
              The issue is that increasing the high-frequency components of the image can also increase noise.
            </p>
            
          </div>
        </div>
      </div>
    </section>

    <!-- Part 2.2 -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Part 2.2</span></div>
          <div class="content">
            <div class="title">Hybrid Images</div>
            <p class="desc">
              In this part of the project, I created hybrid images by blending the low-frequency content of one image with the high-frequency content of another. 
              To extract the low-frequency components, I applied a Gaussian blur to the first image using convolution with a Gaussian filter. 
              The parameter œÉ controls the amount of blurring: larger œÉ values smooth the image more, removing fine detail, while smaller œÉ values preserve more of the original structure. 
              The high-frequency components were obtained, similar to earlier, by subtracting a Gaussian-blurred version of the second image from the original, ensuring that only the fine detail information remained. 
              I then combined the low-pass and high-pass results, using weighting factors to balance their contributions, in order to form the final hybrid image.
              <br>
              A key part of this task was aligning the images, since misalignment can cause distracting artifacts. 
              I used the provided starter code to select corresponding points, recenter and rescale the images, rotate one image to match the other, and crop them so that both had the same dimensions. 
              Once aligned, the two images could be more easily combined. 
              <br>
              The perceptual effect of the hybrid depends on viewing distance. Up close, the high-frequency details dominate perception, so you mainly see the high-pass image. 
              From farther away, or when the image is reduced in size, the high frequencies are no longer visible, and the smooth low-frequency structure dominates, so you perceive the low-pass image instead. 
              My goal was to accentuate this shift in interpretation as much as possible. 
              I experimented with different cutoff values for the Gaussian filters and created several hybrids, including the Derek and Nutmeg (Dutmeg) example as well as my own image pairs. 
              <br>
              Below was my initial attempt on Derek and Nutmeg:
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./DerekPicture.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Derek </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./nutmeg.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Original Nutmeg </figcaption>
              </figure>
            </div>

            <figure style="margin:0">
                <img src="./derek_nutmeg.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong></strong> Hybrid Dutmeg (Derek + Nutmeg) </figcaption>
            </figure>
            
            <p class="desc">Below are some more examples on my own images, one of which showcases the full process with the Fourier Transforms.
            First, we have John Denero + Michael Ball = JBall
            
            </p>
            
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./denero2.jpg" alt="" 
                     style="border-radius:12px; max-width:300px; max-height:300px; object-fit:contain;" 
                     onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px">
                  <strong>1.</strong> Original John Denero
                </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./mball.jpg" alt="" 
                     style="border-radius:12px; max-width:300px; max-height:300px; object-fit:contain;" 
                     onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px">
                  <strong>2.</strong> Original Michael Ball
                </figcaption>
              </figure>
            </div>

            <figure style="margin:0">
              <img src="./denero_mball_hybrid.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
              <figcaption class="desc" style="margin-top:6px"><strong></strong> Hybrid JBall </figcaption>
            </figure>

            <p class="desc">
            Some improvements and additional design choices that I made were to zero mean the high pass image and clip only at the very end, instead of clipping after each convolution. 
            Zero meaning the high pass ensured that any color/brightness biases wouldn't affect my resulting image. 
            <br>
            Next, we have a cute baby panda and baby lion merged together. I include the full process for this with aligned images, fourier transforms, and filtered results.
            </p>
            
            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./babyPanda.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Original Panda </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./babyLion.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Original Lion </figcaption>
              </figure>
            </div>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./panda_aligned.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Aligned Panda </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./lion_aligned.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Aligned Lion </figcaption>
              </figure>
            </div>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./panda_low.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Panda (Low Frequency) </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./lion_high.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Lion (High Frequency) </figcaption>
              </figure>
            </div>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./fft_panda_input.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Panda Input Fourier </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./fft_lion_input.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Lion Input Fourier </figcaption>
              </figure>
            </div>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./fft_panda_low.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Panda Low Freq Fourier </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./fft_lion_high.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Lion High Freq Fourier </figcaption>
              </figure>
            </div>

            <figure style="margin:0">
              <img src="./panda_lion_hybrid.png" alt="" style="border-radius:12px" onerror="this.style.display='none'">
              <figcaption class="desc" style="margin-top:6px"><strong></strong> Hybrid Landa </figcaption>
            </figure>
          </div>
        </div>
      </div>
    </section>

    <!-- Part 2.3 + 2.4 -->
    <section style="margin-top:14px">
      <div class="grid">
        <div class="card" style="grid-column: span 12">
          <div class="thumb"><span class="badge">Part 2.3 + 2.4</span></div>
          <div class="content">
            <div class="title">Gaussian and Laplacian Stacks and Multiresolution Blending</div>
            <p class="desc">
              In this part of the project, I implemented multiresolution blending using Gaussian and Laplacian stacks to combine two images in a way that avoids sharp seams and produces smooth transitions. To begin, I constructed Gaussian stacks for both input images by repeatedly convolving with a Gaussian filter and progressively downsampling, with five levels used in total. The Gaussian filter is controlled by a œÉ value, which determines the amount of smoothing applied: larger œÉ values result in more pronounced blurring, while smaller œÉ values preserve more detail. From these Gaussian stacks, I then derived Laplacian stacks by subtracting each level of the Gaussian stack from the next, capturing the band-pass details at each scale. The final level of each Laplacian stack is just the coarsest level of the Gaussian stack, which retains the overall structure of the image.
              <br>
              Once the stacks were built, I used a mask-based blending approach to merge the images. The mask defines which parts of each image contribute to the final blend. To preserve smooth transitions, I also created Gaussian stacks of the masks, which ensured that boundaries between the two images were blurred gradually rather than producing visible seams. The simplest mask I used was a vertical half-and-half split, which allowed me to recreate the "Oraple" (apple‚Äìorange blend) example from the Burt and Adelson‚Äôs 1983 paper. In addition, I created an irregular circular mask centered on the image, which highlighted how the blending algorithm can smoothly combine arbitrary regions from each image.
              <br>
              By combining the Laplacian stacks of the two images at each level according to the corresponding Gaussian mask values, and then collapsing the stack back into a full-resolution image, I was able to produce convincing hybrid blends. The half-and-half mask demonstrated how multiresolution blending avoids the harsh seam you would get from a simple cut-and-paste, while the circular mask showed that more complex regions can also be blended seamlessly. 
            </p>

            <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:8px">
              <figure style="margin:0">
                <img src="./outputs/exhaustive_aligned_emir.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>1.</strong> Initial Emir </figcaption>
              </figure>
              <figure style="margin:0">
                <img src="./outputs/exhaustive_aligned_italil.jpg" alt="" style="border-radius:12px" onerror="this.style.display='none'">
                <figcaption class="desc" style="margin-top:6px"><strong>2.</strong> Initial Italil </figcaption>
              </figure>
            </div>

          </div>
        </div>
      </div>
    </section>    

    <footer>
      <div class="footer-row container">
        <span>¬© <span id="year"></span> Chris Dodla</span>
        <span>Project 2 ‚Ä¢ CS180 @ https://mritik.github.io/2/</span>
      </div>
    </footer>
  </main>

  <script>
    (function () {
      const key = "theme";
      const root = document.documentElement;
      const saved = localStorage.getItem(key);
      if (saved) root.setAttribute("data-theme", saved);

      const btn = document.getElementById("themeToggle");
      btn.addEventListener("click", () => {
        const next = root.getAttribute("data-theme") === "light" ? "dark" : "light";
        root.setAttribute("data-theme", next);
        localStorage.setItem(key, next);
      });

      document.getElementById("year").textContent = new Date().getFullYear();
    })();
  </script>
</body>
</html>
